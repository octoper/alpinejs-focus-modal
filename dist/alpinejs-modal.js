!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["Alpine Modal"]=t()}(this,(function(){"use strict";function e(e,t){if(e.findIndex)return e.findIndex(t);const n=e.length;if(0===n)return-1;for(let o=0;o<n;o++)if(t(e[o],o,e))return o;return-1}function t(e){if(!e)return[];if(Array.isArray(e))return e;if(void 0!==e.nodeType)return[e];if("string"==typeof e&&(e=document.querySelectorAll(e)),void 0!==e.length)return[].slice.call(e,0);throw new TypeError("unexpected input "+String(e))}function n({context:e,label:n="context-to-element",resolveDocument:o,defaultToDocument:i}){let r=t(e)[0];if(o&&r&&r.nodeType===Node.DOCUMENT_NODE&&(r=r.documentElement),!r&&i)return document.documentElement;if(!r)throw new TypeError(n+" requires valid options.context");if(r.nodeType!==Node.ELEMENT_NODE&&r.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw new TypeError(n+" requires options.context to be an Element");return r}function o({context:e}={}){const t=[];let o=n({label:"get/parents",context:e});for(;o;)t.push(o),o=o.parentNode,o&&o.nodeType!==Node.ELEMENT_NODE&&(o=null);return t}const i=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"];let r=null;function a(e,t){return r||function(e){i.some((function(t){return!!e[t]&&(r=t,!0)}))}(e),e[r](t)}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var c=l((function(e,t){(function(){var n={function:!0,object:!0},o=n[typeof window]&&window||this,i=o,r=n.object&&t,a=n.object&&e&&!e.nodeType&&e,l=r&&a&&"object"==typeof s&&s;!l||l.global!==l&&l.window!==l&&l.self!==l||(o=l);var c=Math.pow(2,53)-1,u=/\bOpera/,f=this,d=Object.prototype,b=d.hasOwnProperty,m=d.toString;function p(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function h(e){return e=S(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:p(e)}function g(e,t){for(var n in e)b.call(e,n)&&t(e[n],n,e)}function x(e){return null==e?p(e):m.call(e).slice(8,-1)}function y(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function w(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function v(e,t){var n=null;return function(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=c)for(;++n<o;)t(e[n],n,e);else g(e,t)}(e,(function(o,i){n=t(n,o,i,e)})),n}function S(e){return String(e).replace(/^ +| +$/g,"")}var E=function e(t){var n=o,r=t&&"object"==typeof t&&"String"!=x(t);r&&(n=t,t=null);var a=n.navigator||{},s=a.userAgent||"";t||(t=s);var l,c,d=r||f==i,b=r?!!a.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(m.toString()),p="Object",E=r?p:"ScriptBridgingProxyObject",A=r?p:"Environment",T=r&&n.java?"JavaPackage":x(n.java),O=r?p:"RuntimeObject",C=/\bJava/.test(T)&&n.java,I=C&&x(n.environment)==A,M=C?"a":"α",N=C?"b":"β",k=n.document||{},L=n.operamini||n.opera,P=u.test(P=r&&L?L["[[Class]]"]:x(L))?P:L=null,B=t,D=[],W=null,F=t==s,H=F&&L&&"function"==typeof L.version&&L.version(),j=v([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||w(n))+"\\b","i").exec(t)&&(n.label||n)})),_=function(e){return v(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||w(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),R=K([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),G=function(e){return v(e,(function(e,n,o){return e||(n[R]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(R)]||RegExp("\\b"+w(o)+"(?:\\b|\\w*\\d)","i").exec(t))&&o}))}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),q=function(e){return v(e,(function(e,n){var o=n.pattern||w(n);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),h(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,o,n.label||n)),e}))}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function K(e){return v(e,(function(e,n){var o=n.pattern||w(n);return!e&&(e=RegExp("\\b"+o+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+o+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(o,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=h(e[0].replace(RegExp(o,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}if(j&&(j=[j]),G&&!R&&(R=K([G])),(l=/\bGoogle TV\b/.exec(R))&&(R=l[0]),/\bSimulator\b/i.test(t)&&(R=(R?R+" ":"")+"Simulator"),"Opera Mini"==_&&/\bOPiOS\b/.test(t)&&D.push("running in Turbo/Uncompressed mode"),"IE"==_&&/\blike iPhone OS\b/.test(t)?(G=(l=e(t.replace(/like iPhone OS/,""))).manufacturer,R=l.product):/^iP/.test(R)?(_||(_="Safari"),q="iOS"+((l=/ OS ([\d_]+)/i.exec(t))?" "+l[1].replace(/_/g,"."):"")):"Konqueror"!=_||/buntu/i.test(q)?G&&"Google"!=G&&(/Chrome/.test(_)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(R))||/\bAndroid\b/.test(q)&&/^Chrome/.test(_)&&/\bVersion\//i.test(t)?(_="Android Browser",q=/\bAndroid\b/.test(q)?q:"Android"):"Silk"==_?(/\bMobi/i.test(t)||(q="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&D.unshift("accelerated")):"PaleMoon"==_&&(l=/\bFirefox\/([\d.]+)\b/.exec(t))?D.push("identifying as Firefox "+l[1]):"Firefox"==_&&(l=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(q||(q="Firefox OS"),R||(R=l[1])):_&&!(l=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(_))||(_&&!R&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(l+"/")+8))&&(_=null),(l=R||G||q)&&(R||G||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(q))&&(_=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(q)?q:l)+" Browser")):q="Kubuntu",H||(H=v(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",w(_),"(?:Firefox|Minefield|NetFront)"],(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))),(l=("iCab"==j&&parseFloat(H)>3?"WebKit":/\bOpera\b/.test(_)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==q?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(_)&&"NetFront")&&(j=[l]),"IE"==_&&(l=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(_+=" Mobile",q="Windows Phone "+(/\+$/.test(l)?l:l+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(_="IE Mobile",q="Windows Phone 8.x",D.unshift("desktop mode"),H||(H=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=_&&"Trident"==j&&(l=/\brv:([\d.]+)/.exec(t))&&(_&&D.push("identifying as "+_+(H?" "+H:"")),_="IE",H=l[1]),F){if(y(n,"global"))if(C&&(B=(l=C.lang.System).getProperty("os.arch"),q=q||l.getProperty("os.name")+" "+l.getProperty("os.version")),d&&y(n,"system")&&(l=[n.system])[0]){q||(q=l[0].os||null);try{l[1]=n.require("ringo/engine").version,H=l[1].join("."),_="RingoJS"}catch(e){l[0].global.system==n.system&&(_="Narwhal")}}else"object"==typeof n.process&&!n.process.browser&&(l=n.process)?(_="Node.js",B=l.arch,q=l.platform,H=/[\d.]+/.exec(l.version)[0]):I&&(_="Rhino");else x(l=n.runtime)==E?(_="Adobe AIR",q=l.flash.system.Capabilities.os):x(l=n.phantom)==O?(_="PhantomJS",H=(l=l.version||null)&&l.major+"."+l.minor+"."+l.patch):"number"==typeof k.documentMode&&(l=/\bTrident\/(\d+)/i.exec(t))&&(H=[H,k.documentMode],(l=+l[1]+4)!=H[1]&&(D.push("IE "+H[1]+" mode"),j&&(j[1]=""),H[1]=l),H="IE"==_?String(H[1].toFixed(1)):H[0]);q=q&&h(q)}H&&(l=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(H)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(F&&a.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(W=/b/i.test(l)?"beta":"alpha",H=H.replace(RegExp(l+"\\+?$"),"")+("beta"==W?N:M)+(/\d+\+?/.exec(l)||"")),"Fennec"==_||"Firefox"==_&&/\b(?:Android|Firefox OS)\b/.test(q)?_="Firefox Mobile":"Maxthon"==_&&H?H=H.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(R)?(q=null,"Xbox 360"==R&&/\bIEMobile\b/.test(t)&&D.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(_)&&(!_||R||/Browser|Mobi/.test(_))||"Windows CE"!=q&&!/Mobi/i.test(t)?"IE"==_&&F&&null===n.external?D.unshift("platform preview"):(/\bBlackBerry\b/.test(R)||/\bBB10\b/.test(t))&&(l=(RegExp(R.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||H)?(q=((l=[l,/BB10/.test(t)])[1]?(R=null,G="BlackBerry"):"Device Software")+" "+l[0],H=null):this!=g&&"Wii"!=R&&(F&&L||/Opera/.test(_)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==_&&/\bOS X (?:\d+\.){2,}/.test(q)||"IE"==_&&(q&&!/^Win/.test(q)&&H>5.5||/\bWindows XP\b/.test(q)&&H>8||8==H&&!/\bTrident\b/.test(t)))&&!u.test(l=e.call(g,t.replace(u,"")+";"))&&l.name&&(l="ing as "+l.name+((l=l.version)?" "+l:""),u.test(_)?(/\bIE\b/.test(l)&&"Mac OS"==q&&(q=null),l="identify"+l):(l="mask"+l,_=P?h(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(l)&&(q=null),F||(H=null)),j=["Presto"],D.push(l)):_+=" Mobile",(l=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(l=[parseFloat(l.replace(/\.(\d)$/,".0$1")),l],"Safari"==_&&"+"==l[1].slice(-1)?(_="WebKit Nightly",W="alpha",H=l[1].slice(0,-1)):H!=l[1]&&H!=(l[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(H=null),l[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==l[0]&&537.36==l[2]&&parseFloat(l[1])>=28&&"WebKit"==j&&(j=["Blink"]),F&&(b||l[1])?(j&&(j[1]="like Chrome"),l=l[1]||((l=l[0])<530?1:l<532?2:l<532.05?3:l<533?4:l<534.03?5:l<534.07?6:l<534.1?7:l<534.13?8:l<534.16?9:l<534.24?10:l<534.3?11:l<535.01?12:l<535.02?"13+":l<535.07?15:l<535.11?16:l<535.19?17:l<536.05?18:l<536.1?19:l<537.01?20:l<537.11?"21+":l<537.13?23:l<537.18?24:l<537.24?25:l<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),l=(l=l[0])<400?1:l<500?2:l<526?3:l<533?4:l<534?"4+":l<535?5:l<537?6:l<538?7:l<601?8:"8"),j&&(j[1]+=" "+(l+="number"==typeof l?".x":/[.+]/.test(l)?"":"+")),"Safari"==_&&(!H||parseInt(H)>45)&&(H=l)),"Opera"==_&&(l=/\bzbov|zvav$/.exec(q))?(_+=" ",D.unshift("desktop mode"),"zvav"==l?(_+="Mini",H=null):_+="Mobile",q=q.replace(RegExp(" *"+l+"$"),"")):"Safari"==_&&/\bChrome\b/.exec(j&&j[1])&&(D.unshift("desktop mode"),_="Chrome Mobile",H=null,/\bOS X\b/.test(q)?(G="Apple",q="iOS 4.3+"):q=null),H&&0==H.indexOf(l=/[\d.]+$/.exec(q))&&t.indexOf("/"+l+"-")>-1&&(q=S(q.replace(l,""))),j&&!/\b(?:Avant|Nook)\b/.test(_)&&(/Browser|Lunascape|Maxthon/.test(_)||"Safari"!=_&&/^iOS/.test(q)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(_)&&j[1])&&(l=j[j.length-1])&&D.push(l),D.length&&(D=["("+D.join("; ")+")"]),G&&R&&R.indexOf(G)<0&&D.push("on "+G),R&&D.push((/^on /.test(D[D.length-1])?"":"on ")+R),q&&(l=/ ([\d.+]+)$/.exec(q),c=l&&"/"==q.charAt(q.length-l[0].length-1),q={architecture:32,family:l&&!c?q.replace(l[0],""):q,version:l?l[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(l=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(B))&&!/\bi686\b/i.test(B)?(q&&(q.architecture=64,q.family=q.family.replace(RegExp(" *"+l),"")),_&&(/\bWOW64\b/i.test(t)||F&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(t))&&D.unshift("32-bit")):q&&/^OS X/.test(q.family)&&"Chrome"==_&&parseFloat(H)>=39&&(q.architecture=64),t||(t=null);var V={};return V.description=t,V.layout=j&&j[0],V.manufacturer=G,V.name=_,V.prerelease=W,V.product=R,V.ua=t,V.version=_&&H,V.os=q||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=e,V.toString=function(){return this.description||""},V.version&&D.unshift(H),V.name&&D.unshift(_),q&&_&&(q!=String(q).split(" ")[0]||q!=_.split(" ")[0]&&!R)&&D.push(R?"("+q+")":"on "+q),D.length&&(V.description=D.join(" ")),V}();r&&a?g(E,(function(e,t){r[t]=e})):o.platform=E}).call(s)}));const u=JSON.parse(JSON.stringify(c)),f=u.os.family||"",d="Android"===f,b="Windows"===f.slice(0,7),m="OS X"===f,p="iOS"===f,h="Blink"===u.layout,g="Gecko"===u.layout,x="Trident"===u.layout,y="EdgeHTML"===u.layout,w="WebKit"===u.layout,v=parseFloat(u.version),S=Math.floor(v);function E(e){const t=function(){const e={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},t=document.createElement("iframe");t.setAttribute("style","position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;"),t.setAttribute("aria-live","off"),t.setAttribute("aria-busy","true"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t);const n=t.contentWindow,o=n.document;o.open(),o.close();const i=o.createElement("div");return o.body.appendChild(i),e.iframe=t,e.wrapper=i,e.window=n,e.document=o,e}(),n={};return Object.keys(e).map((function(o){n[o]=function(e,t){e.wrapper.innerHTML="";const n="string"==typeof t.element?e.document.createElement(t.element):t.element(e.wrapper,e.document);let o=t.mutate&&t.mutate(n,e.wrapper,e.document);return o||!1===o||(o=n),!n.parentNode&&e.wrapper.appendChild(n),o&&o.focus&&o.focus(),t.validate?t.validate(n,o,e.document):e.document.activeElement===o}(t,e[o])})),function(e){e.activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),u.is.IE10&&document.body.focus()):e.activeElement&&e.activeElement.focus&&e.activeElement.focus(),document.body.removeChild(e.iframe),window.scrollTop=e.windowScrollTop,window.scrollLeft=e.windowScrollLeft,document.body.scrollTop=e.bodyScrollTop,document.body.scrollLeft=e.bodyScrollLeft}(t),n}u.majorVersion=S,u.is={ANDROID:d,WINDOWS:b,OSX:m,IOS:p,BLINK:h,GECKO:g,TRIDENT:x,EDGE:y,WEBKIT:w,IE9:x&&9===S,IE10:x&&10===S,IE11:x&&11===S};const A="1.4.1";const T="undefined"!=typeof window&&window.navigator.userAgent||"",O="ally-supports-cache";let C=function(e){let t;try{t=window.localStorage&&window.localStorage.getItem(e),t=t?JSON.parse(t):{}}catch(e){t={}}return t}(O);C.userAgent===T&&C.version===A||(C={}),C.userAgent=T,C.version=A;var I=function(){return C},M=function(e){Object.keys(e).forEach((function(t){C[t]=e[t]})),C.time=(new Date).toISOString(),function(e,t){if(document.hasFocus())try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}else try{window.localStorage&&window.localStorage.removeItem(e)}catch(e){}}(O,C)};function N(){let e;try{document.querySelector("html >>> :first-child"),e=">>>"}catch(t){try{document.querySelector("html /deep/ :first-child"),e="/deep/"}catch(t){e=""}}return e}var k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",L={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+k+'">',e.querySelector("area")}},P={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+k+'">',!1},validate:function(e,t,n){if(u.is.GECKO)return!0;const o=e.querySelector("area");return o.focus(),n.activeElement===o}},B={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+k+'">',e.querySelector("area")},validate:function(e,t,n){return!!u.is.GECKO||n.activeElement===t}},D={name:"can-focus-audio-without-controls",element:"audio",mutate:function(e){try{e.setAttribute("src",k)}catch(e){}}},W={element:"div",mutate:function(e){return e.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ">',e.querySelector("area")}},F={element:"a",mutate:function(e){return e.href="#void",e.innerHTML='<img ismap src="'+k+'" alt="">',e.querySelector("img")}},H={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+k+'">',e.querySelector("img")}};const j=!u.is.WEBKIT;var _="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==",R={element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",_),e.setAttribute("width","200"),e.setAttribute("height","50"),e.style.visibility="hidden"}},G={name:"can-focus-object-svg",element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",_),e.setAttribute("width","200"),e.setAttribute("height","50")},validate:function(e,t,n){return!!u.is.GECKO||n.activeElement===e}};const q=!u.is.IE9;var K={element:"div",mutate:function(e){return e.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+k+'">',e.querySelector("img")},validate:function(e,t,n){const o=e.querySelector("area");return n.activeElement===o}};function V(e){if(!(e.ownerSVGElement||"svg"===e.nodeName.toLowerCase()))return!1;const t=function(){const e=document.createElement("div");return e.innerHTML='<svg><foreignObject width="30" height="30">\n      <input type="text"/>\n  </foreignObject></svg>',e.firstChild.firstChild}();e.appendChild(t);const n=t.querySelector("input");return n.focus(),n.disabled=!0,e.removeChild(t),!0}function Z(e){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>"}function $(e,t,n){return function(e){if(!e.focus)try{HTMLElement.prototype.focus.call(e)}catch(t){V(e)}}(t),n.activeElement===t}var U={element:"div",mutate:function(e){return e.innerHTML=Z('<text focusable="true">a</text>'),e.querySelector("text")},validate:$},X={element:"div",mutate:function(e){return e.innerHTML=Z('<text tabindex="0">a</text>'),e.querySelector("text")},validate:$},z={element:"div",mutate:function(e){return e.innerHTML=Z('<text tabindex="-1">a</text>'),e.querySelector("text")},validate:$},J={element:"div",mutate:function(e){return e.innerHTML=Z(['<g id="ally-test-target"><a xlink:href="#void"><text>link</text></a></g>','<use xlink:href="#ally-test-target" x="0" y="0" tabindex="-1" />'].join("")),e.querySelector("use")},validate:$},Q={element:"div",mutate:function(e){return e.innerHTML=Z('<foreignObject tabindex="-1"><input type="text" /></foreignObject>'),e.querySelector("foreignObject")||e.getElementsByTagName("foreignObject")[0]},validate:$};const Y=Boolean(u.is.GECKO&&"undefined"!=typeof SVGElement&&SVGElement.prototype.focus);var ee={element:"div",mutate:function(e){return e.innerHTML=Z(""),e.firstChild},validate:$},te={element:"video",mutate:function(e){try{e.setAttribute("src",k)}catch(e){}}};const ne=u.is.GECKO||u.is.TRIDENT||u.is.EDGE;const oe={cssShadowPiercingDeepCombinator:N,focusInZeroDimensionObject:function(){return j},focusObjectSwf:function(){return q},focusSvgInIframe:function(){return Y},tabsequenceAreaAtImgPosition:function(){return ne}},ie={focusAreaImgTabindex:L,focusAreaTabindex:P,focusAreaWithoutHref:B,focusAudioWithoutControls:D,focusBrokenImageMap:W,focusChildrenOfFocusableFlexbox:{element:"div",mutate:function(e){return e.setAttribute("tabindex","-1"),e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>',e.querySelector("span")}},focusFieldsetDisabled:{element:"fieldset",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusFieldset:{element:"fieldset",mutate:function(e){e.innerHTML="<legend>legend</legend><p>content</p>"}},focusFlexboxContainer:{element:"span",mutate:function(e){e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>'}},focusFormDisabled:{element:"form",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusImgIsmap:F,focusImgUsemapTabindex:H,focusInHiddenIframe:{element:function(e,t){const n=t.createElement("iframe");e.appendChild(n);const o=n.contentWindow.document;return o.open(),o.close(),n},mutate:function(e){e.style.visibility="hidden";const t=e.contentWindow.document,n=t.createElement("input");return t.body.appendChild(n),n},validate:function(e){const t=e.contentWindow.document,n=t.querySelector("input");return t.activeElement===n}},focusInvalidTabindex:{element:"div",mutate:function(e){e.setAttribute("tabindex","invalid-value")}},focusLabelTabindex:{element:"label",mutate:function(e){e.setAttribute("tabindex","-1")},validate:function(e,t,n){e.offsetHeight;return e.focus(),n.activeElement===e}},focusObjectSvg:G,focusObjectSvgHidden:R,focusRedirectImgUsemap:K,focusRedirectLegend:{element:"fieldset",mutate:function(e){return e.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">',!1},validate:function(e,t,n){const o=e.querySelector('input[tabindex="-1"]'),i=e.querySelector('input[tabindex="0"]');return e.focus(),e.querySelector("legend").focus(),(n.activeElement===o?"focusable":n.activeElement===i&&"tabbable")||""}},focusScrollBody:{element:"div",mutate:function(e){return e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',e.querySelector("div")}},focusScrollContainerWithoutOverflow:{element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusScrollContainer:{element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusSummary:{element:"details",mutate:function(e){return e.innerHTML="<summary>foo</summary><p>content</p>",e.firstElementChild}},focusSvgFocusableAttribute:U,focusSvgTabindexAttribute:X,focusSvgNegativeTabindexAttribute:z,focusSvgUseTabindex:J,focusSvgForeignobjectTabindex:Q,focusSvg:ee,focusTabindexTrailingCharacters:{element:"div",mutate:function(e){e.setAttribute("tabindex","3x")}},focusTable:{element:"table",mutate:function(e,t,n){const o=n.createDocumentFragment();o.innerHTML="<tr><td>cell</td></tr>",e.appendChild(o)}},focusVideoWithoutControls:te};let re,ae=null;function se(){return ae||(ae=I(),ae.time||(M(function(){const e=E(ie);return Object.keys(oe).forEach((function(t){e[t]=oe[t]()})),e}()),ae=I()),ae)}const le=/^\s*(-|\+)?[0-9]+\s*$/,ce=/^\s*(-|\+)?[0-9]+.*$/;function ue(e){re||(re=se());const t=re.focusTabindexTrailingCharacters?ce:le,o=n({label:"is/valid-tabindex",resolveDocument:!0,context:e}),i=o.hasAttribute("tabindex"),r=o.hasAttribute("tabIndex");if(!i&&!r)return!1;if((o.ownerSVGElement||"svg"===o.nodeName.toLowerCase())&&!re.focusSvgTabindexAttribute)return!1;if(re.focusInvalidTabindex)return!0;const a=o.getAttribute(i?"tabindex":"tabIndex");return"-32768"!==a&&Boolean(a&&t.test(a))}function fe(e){if(!ue(e))return null;const t=e.hasAttribute("tabindex")?"tabindex":"tabIndex",n=parseInt(e.getAttribute(t),10);return isNaN(n)?-1:n}function de(e){const t=e.webkitUserModify||"";return Boolean(t&&-1!==t.indexOf("write"))}function be(e){return[e.getPropertyValue("overflow"),e.getPropertyValue("overflow-x"),e.getPropertyValue("overflow-y")].some((e=>"auto"===e||"scroll"===e))}function me(e){return e.display.indexOf("flex")>-1}function pe(e,t,n,o){return("div"===t||"span"===t)&&(!(n&&"div"!==n&&"span"!==n&&!be(o))&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth))}let he;function ge({context:e,except:t={flexbox:!1,scrollable:!1,shadow:!1}}={}){he||(he=se());const i=n({label:"is/focus-relevant",resolveDocument:!0,context:e});if(!t.shadow&&i.shadowRoot)return!0;const r=i.nodeName.toLowerCase();if("input"===r&&"hidden"===i.type)return!1;if("input"===r||"select"===r||"button"===r||"textarea"===r)return!0;if("legend"===r&&he.focusRedirectLegend)return!0;if("label"===r)return!0;if("area"===r)return!0;if("a"===r&&i.hasAttribute("href"))return!0;if("object"===r&&i.hasAttribute("usemap"))return!1;if("object"===r){const e=i.getAttribute("type");if(!he.focusObjectSvg&&"image/svg+xml"===e)return!1;if(!he.focusObjectSwf&&"application/x-shockwave-flash"===e)return!1}if("iframe"===r||"object"===r)return!0;if("embed"===r||"keygen"===r)return!0;if(i.hasAttribute("contenteditable"))return!0;if("audio"===r&&(he.focusAudioWithoutControls||i.hasAttribute("controls")))return!0;if("video"===r&&(he.focusVideoWithoutControls||i.hasAttribute("controls")))return!0;if(he.focusSummary&&"summary"===r)return!0;const s=ue(i);if("img"===r&&i.hasAttribute("usemap"))return s&&he.focusImgUsemapTabindex||he.focusRedirectImgUsemap;if(he.focusTable&&("table"===r||"td"===r))return!0;if(he.focusFieldset&&"fieldset"===r)return!0;const l="svg"===r,c=i.ownerSVGElement,u=i.getAttribute("focusable"),f=fe(i);if("use"===r&&null!==f&&!he.focusSvgUseTabindex)return!1;if("foreignobject"===r)return null!==f&&he.focusSvgForeignobjectTabindex;if(a(i,"svg a")&&i.hasAttribute("xlink:href"))return!0;if((l||c)&&i.focus&&!he.focusSvgNegativeTabindexAttribute&&f<0)return!1;if(l)return s||he.focusSvg||he.focusSvgInIframe||Boolean(he.focusSvgFocusableAttribute&&u&&"true"===u);if(c){if(he.focusSvgTabindexAttribute&&s)return!0;if(he.focusSvgFocusableAttribute)return"true"===u}if(s)return!0;const d=window.getComputedStyle(i,null);if(de(d))return!0;if(he.focusImgIsmap&&"img"===r&&i.hasAttribute("ismap")){if(o({context:i}).some((e=>"a"===e.nodeName.toLowerCase()&&e.hasAttribute("href"))))return!0}if(!t.scrollable&&he.focusScrollContainer)if(he.focusScrollContainerWithoutOverflow){if(pe(i,r))return!0}else if(be(d))return!0;if(!t.flexbox&&he.focusFlexboxContainer&&me(d))return!0;const b=i.parentElement;if(!t.scrollable&&b){const e=b.nodeName.toLowerCase(),t=window.getComputedStyle(b,null);if(he.focusScrollBody&&pe(b,r,e,t))return!0;if(he.focusChildrenOfFocusableFlexbox&&me(t))return!0}return!1}ge.except=function(e={}){const t=function(t){return ge({context:t,except:e})};return t.rules=ge,t};const xe=ge.except({});function ye(e){return e?e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument||document:document}let we,ve;function Se(e){if("string"!=typeof we){const e=N();e&&(we=", html "+e+" ")}return we?e+we+e.replace(/\s*,\s*/g,",").split(",").join(we):e}function Ee(e){const t=ye(e).defaultView||window;if(!t.parent||t.parent===t)return null;try{return t.frameElement||function(e){if(ve||(ve=Se("object, iframe")),void 0!==e._frameElement)return e._frameElement;e._frameElement=null;const t=e.parent.document.querySelectorAll(ve);return[].some.call(t,(function(t){return function(e){try{return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.getSVGDocument&&e.getSVGDocument()||null}catch(e){return null}}(t)===e.document&&(e._frameElement=t,!0)})),e._frameElement}(t)}catch(e){return null}}const Ae=/^(area)$/;function Te(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function Oe({context:t,except:i={notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}}={}){const r=n({label:"is/visible",resolveDocument:!0,context:t}),a=r.nodeName.toLowerCase();if(!i.notRendered&&Ae.test(a))return!0;const s=o({context:r}),l="audio"===a&&!r.hasAttribute("controls");if(!i.cssDisplay&&function(e){return e.some((function(e){return"none"===Te(e,"display")}))}(l?s.slice(1):s))return!1;if(!i.cssVisibility&&function(t){const n=e(t,(function(e){const t=Te(e,"visibility");return"hidden"===t||"collapse"===t}));if(-1===n)return!1;const o=e(t,(function(e){return"visible"===Te(e,"visibility")}));return-1===o||n<o}(s))return!1;if(!i.detailsElement&&function(e){let t=1;return"summary"===e[0].nodeName.toLowerCase()&&(t=2),e.slice(t).some((function(e){return"details"===e.nodeName.toLowerCase()&&!1===e.open}))}(s))return!1;if(!i.browsingContext){const e=Ee(r),t=Oe.except(i);if(e&&!t(e))return!1}return!0}Oe.except=function(e={}){const t=function(t){return Oe({context:t,except:e})};return t.rules=Oe,t};const Ce=Oe.except({});var Ie=l((function(e,t){var n;n=s,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),o=n.length,i=-1,r="",a=n.charCodeAt(0);++i<o;)0!=(t=n.charCodeAt(i))?r+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==i&&1==o&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(i):n.charAt(i):r+="�";return r};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(n)}));function Me(e){const t=e.parentElement;if(!t.name||"map"!==t.nodeName.toLowerCase())return null;return ye(e).querySelector('img[usemap="#'+Ie(t.name)+'"]')||null}let Ne,ke,Le;const Pe={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0};let Be;function De(e){return"fieldset"===e.nodeName.toLowerCase()&&e.disabled}function We(e){return"form"===e.nodeName.toLowerCase()&&e.disabled}function Fe(e){Be||(Be=se());const t=n({label:"is/disabled",context:e});if(t.hasAttribute("data-ally-disabled"))return!0;if(!function(e){ke||(ke=se(),ke.focusFieldsetDisabled&&delete Pe.fieldset,ke.focusFormDisabled&&delete Pe.form,Le=new RegExp("^("+Object.keys(Pe).join("|")+")$"));const t=n({label:"is/native-disabled-supported",context:e}).nodeName.toLowerCase();return Boolean(Le.test(t))}(t))return!1;if(t.disabled)return!0;const i=o({context:t});return!!i.some(De)||!(Be.focusFormDisabled||!i.some(We))}function He({context:e,except:t={onlyFocusableBrowsingContext:!1,visible:!1}}={}){const o=n({label:"is/only-tabbable",resolveDocument:!0,context:e});if(!t.visible&&!Ce(o))return!1;if(!t.onlyFocusableBrowsingContext&&(u.is.GECKO||u.is.TRIDENT||u.is.EDGE)){const e=Ee(o);if(e&&fe(e)<0)return!1}const i=o.nodeName.toLowerCase(),r=fe(o);return"label"===i&&u.is.GECKO?null!==r&&r>=0:!!(u.is.GECKO&&o.ownerSVGElement&&!o.focus&&"a"===i&&o.hasAttribute("xlink:href")&&u.is.GECKO)}He.except=function(e={}){const t=function(t){return He({context:t,except:e})};return t.rules=He,t};const je=He.except({});let _e;function Re(e){const t=e.nodeName.toLowerCase();if("embed"===t||"keygen"===t)return!0;const i=fe(e);if(e.shadowRoot&&null===i)return!0;if("label"===t)return!_e.focusLabelTabindex||null===i;if("legend"===t)return null===i;if(_e.focusSvgFocusableAttribute&&(e.ownerSVGElement||"svg"===t)){const t=e.getAttribute("focusable");return t&&"false"===t}return"img"===t&&e.hasAttribute("usemap")?null===i||!_e.focusImgUsemapTabindex:"area"===t&&!function(e){Ne||(Ne=se());const t=n({label:"is/valid-area",context:e});if("area"!==t.nodeName.toLowerCase())return!1;const i=t.hasAttribute("tabindex");if(!Ne.focusAreaTabindex&&i)return!1;const r=Me(t);return!(!r||!Ce(r))&&(!(!Ne.focusBrokenImageMap&&(!r.complete||!r.naturalHeight||r.offsetWidth<=0||r.offsetHeight<=0))&&(Ne.focusAreaWithoutHref||t.href?!o({context:r}).slice(1).some((function(e){const t=e.nodeName.toLowerCase();return"button"===t||"a"===t})):Ne.focusAreaTabindex&&i||Ne.focusAreaImgTabindex&&r.hasAttribute("tabindex")))}(e)}function Ge({context:e,except:t={disabled:!1,visible:!1,onlyTabbable:!1}}={}){_e||(_e=se());const o=je.rules.except({onlyFocusableBrowsingContext:!0,visible:t.visible}),i=n({label:"is/focusable",resolveDocument:!0,context:e});if(!xe.rules({context:i,except:t})||Re(i))return!1;if(!t.disabled&&Fe(i))return!1;if(!t.onlyTabbable&&o(i))return!1;if(!t.visible){const e={context:i,except:{}};if(_e.focusInHiddenIframe&&(e.except.browsingContext=!0),_e.focusObjectSvgHidden){"object"===i.nodeName.toLowerCase()&&(e.except.cssVisibility=!0)}if(!Ce.rules(e))return!1}const r=Ee(i);if(r){if(!("object"!==r.nodeName.toLowerCase()||_e.focusInZeroDimensionObject||r.offsetWidth&&r.offsetHeight))return!1}return!("svg"===i.nodeName.toLowerCase()&&_e.focusSvgInIframe&&!r&&null===i.getAttribute("tabindex"))}Ge.except=function(e={}){const t=function(t){return Ge({context:t,except:e})};return t.rules=Ge,t};const qe=Ge.except({});function Ke(e){const t=function(t){return t.shadowRoot||e(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};return t.acceptNode=t,t}const Ve=Ke(xe);function Ze({context:e,includeContext:t,includeOnlyTabbable:n,strategy:o}={}){e||(e=document.documentElement);const i=qe.rules.except({onlyTabbable:n}),r=ye(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,"all"===o?Ve:Ke(i),!1);let a=[];for(;r.nextNode();)r.currentNode.shadowRoot?(i(r.currentNode)&&a.push(r.currentNode),a=a.concat(Ze({context:r.currentNode.shadowRoot,includeOnlyTabbable:n,strategy:o}))):a.push(r.currentNode);return t&&("all"===o?xe(e)&&a.unshift(e):i(e)&&a.unshift(e)),a}let $e,Ue,Xe;function ze({context:e,includeContext:t,includeOnlyTabbable:n}={}){const o=($e||($e=se()),"string"==typeof Ue||(Ue=($e.focusTable?"table, td,":"")+($e.focusFieldset?"fieldset,":"")+"svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,"+($e.focusAudioWithoutControls?"audio,":"audio[controls],")+($e.focusVideoWithoutControls?"video,":"video[controls],")+($e.focusSummary?"summary,":"")+"[tabindex],[contenteditable]",Ue=Se(Ue)),Ue),i=e.querySelectorAll(o),r=qe.rules.except({onlyTabbable:n}),a=[].filter.call(i,r);return t&&r(e)&&a.unshift(e),a}function Je({context:e,includeContext:t,includeOnlyTabbable:o,strategy:i="quick"}={}){const r={context:n({label:"query/focusable",resolveDocument:!0,defaultToDocument:!0,context:e}),includeContext:t,includeOnlyTabbable:o,strategy:i};if("quick"===i)return ze(r);if("strict"===i||"all"===i)return Ze(r);throw new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]')}const Qe=/^(fieldset|table|td|body)$/;function Ye({context:e,except:t={flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}}={}){Xe||(Xe=se());const o=n({label:"is/tabbable",resolveDocument:!0,context:e});if(u.is.BLINK&&u.is.ANDROID&&u.majorVersion>42)return!1;const i=Ee(o);if(i){if(u.is.WEBKIT&&u.is.IOS)return!1;if(fe(i)<0)return!1;if(!t.visible&&(u.is.BLINK||u.is.WEBKIT)&&!Ce(i))return!1;if("object"===i.nodeName.toLowerCase()){const e="Chrome"===u.name&&u.majorVersion>=54||"Opera"===u.name&&u.majorVersion>=41;if(u.is.WEBKIT||u.is.BLINK&&!e)return!1}}const r=o.nodeName.toLowerCase(),s=fe(o),l=null===s?null:s>=0;if(u.is.EDGE&&u.majorVersion>=14&&i&&o.ownerSVGElement&&s<0)return!0;const c=!1!==l,f=null!==s&&s>=0;if(o.hasAttribute("contenteditable"))return c;if(Qe.test(r)&&!0!==l)return!1;if(u.is.WEBKIT&&u.is.IOS){let e="input"===r&&"text"===o.type||"password"===o.type||"select"===r||"textarea"===r||o.hasAttribute("contenteditable");if(!e){e=de(window.getComputedStyle(o,null))}if(!e)return!1}if("use"===r&&null!==s&&(u.is.BLINK||u.is.WEBKIT&&9===u.majorVersion))return!0;if(a(o,"svg a")&&o.hasAttribute("xlink:href")){if(c)return!0;if(o.focus&&!Xe.focusSvgNegativeTabindexAttribute)return!0}if("svg"===r&&Xe.focusSvgInIframe&&c)return!0;if(u.is.TRIDENT||u.is.EDGE){if("svg"===r)return!!Xe.focusSvg||(o.hasAttribute("focusable")||f);if(o.ownerSVGElement)return!(!Xe.focusSvgTabindexAttribute||!f)||o.hasAttribute("focusable")}if(void 0===o.tabIndex)return Boolean(t.onlyTabbable);if("audio"===r){if(!o.hasAttribute("controls"))return!1;if(u.is.BLINK)return!0}if("video"===r)if(o.hasAttribute("controls")){if(u.is.BLINK||u.is.GECKO)return!0}else if(u.is.TRIDENT||u.is.EDGE)return!1;if("object"===r&&(u.is.BLINK||u.is.WEBKIT))return!1;if("iframe"===r)return!1;if(!t.scrollable&&u.is.GECKO){if(be(window.getComputedStyle(o,null)))return c}if(u.is.TRIDENT||u.is.EDGE){if("area"===r){const e=Me(o);if(e&&fe(e)<0)return!1}const e=window.getComputedStyle(o,null);if(de(e))return o.tabIndex>=0;if(!t.flexbox&&me(e))return null!==s?f:et(o)&&tt(o);if(pe(o,r))return!1;const n=o.parentElement;if(n){const e=n.nodeName.toLowerCase(),t=window.getComputedStyle(n,null);if(pe(n,r,e,t))return!1;if(me(t))return f}}return o.tabIndex>=0}Ye.except=function(e={}){const t=function(t){return Ye({context:t,except:e})};return t.rules=Ye,t};const et=xe.rules.except({flexbox:!0}),tt=Ye.except({flexbox:!0}),nt=Ye.except({});function ot({context:e,includeContext:t,includeOnlyTabbable:n,strategy:o}={}){const i=nt.rules.except({onlyTabbable:n});return Je({context:e,includeContext:t,includeOnlyTabbable:n,strategy:o}).filter(i)}function it(e){return e.hasAttribute("autofocus")}function rt(e){return e.tabIndex<=0}function at({context:e}={}){let t=n({label:"get/shadow-host",context:e}),o=null;for(;t;)o=t,t=t.parentNode;return o.nodeType===o.DOCUMENT_FRAGMENT_NODE&&o.host?o.host:null}function st(e){const t=n({label:"is/active-element",resolveDocument:!0,context:e});if(ye(t).activeElement===t)return!0;const o=at({context:t});return!(!o||o.shadowRoot.activeElement!==t)}function lt(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function ct(n,o,i){const r=[];return o.forEach((function(o){let a=!0,s=n.indexOf(o);-1===s&&(s=function(t,n){return e(t,(function(e){return n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}))}(n,o),a=!1),-1===s&&(s=n.length);const l=t(i?i(o):o);l.length&&r.push({offset:s,replace:a,elements:l})})),r}function ut({list:e,elements:n,resolveElement:o}={}){const i=e.slice(0),r=t(n).slice(0);!function(e){e.sort(lt)}(r);return function(e,t){let n=0;t.sort(((e,t)=>e.offset-t.offset)),t.forEach((function(t){const o=t.replace?1:0,i=[t.offset+n,o].concat(t.elements);e.splice.apply(e,i),n+=t.elements.length-o}))}(i,ct(i,r,o)),i}class ft{constructor(e){this._document=ye(e),this.maps={}}getAreasFor(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}addMapByName(e){const t=function(e,t){return t.querySelector('map[name="'+Ie(e)+'"]')||null}(e,this._document);t&&(this.maps[t.name]=ot({context:t}))}extractAreasFromList(e){return e.filter((function(e){if("area"!==e.nodeName.toLowerCase())return!0;const t=e.parentNode;return this.maps[t.name]||(this.maps[t.name]=[]),this.maps[t.name].push(e),!1}),this)}}class dt{constructor(e,t){this.context=e,this.sortElements=t,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}_registerHost(e){if(e._sortingId)return;e._sortingId="shadow-"+this.hostCounter++,this.hosts[e._sortingId]=e;const t=at({context:e});t?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e)}_registerHostParent(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}_registerElement(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}extractElements(e){return e.filter((function(e){const t=at({context:e});return!t||(this._registerHost(t),this._registerElement(e,t),!1)}),this)}sort(e){let t=this._injectHosts(e);return t=this._replaceHosts(t),this._cleanup(),t}_injectHosts(e){return Object.keys(this.hosts).forEach((function(e){const t=this.elements[e],n=this.inHost[e],o=this.hosts[e].shadowRoot;this.elements[e]=this._merge(t,n,o)}),this),this._merge(e,this.inDocument,this.context)}_merge(e,t,n){const o=ut({list:e,elements:t});return this.sortElements(o,n)}_replaceHosts(e){return ut({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}_resolveHostElement(e){const t=ut({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),n=fe(e);return null!==n&&n>-1?[e].concat(t):t}_cleanup(){Object.keys(this.hosts).forEach((function(e){delete this.hosts[e]._sortingId}),this)}}let bt;function mt(e,t){return bt.tabsequenceAreaAtImgPosition&&(e=function(e,t){const n=t.querySelectorAll("img[usemap]"),o=new ft(t),i=o.extractAreasFromList(e);return n.length?ut({list:i,elements:n,resolveElement:function(e){const t=e.getAttribute("usemap").slice(1);return o.getAreasFor(t)}}):i}(e,t)),e=function(e){const t={},n=[],o=e.filter((function(e){let o=e.tabIndex;return void 0===o&&(o=fe(e)),o<=0||null==o||(t[o]||(t[o]=[],n.push(o)),t[o].push(e),!1)}));return n.sort().map((function(e){return t[e]})).reduceRight((function(e,t){return t.concat(e)}),o)}(e)}function pt({context:e,includeContext:n,includeOnlyTabbable:o,strategy:i}={}){bt||(bt=se());const r=t(e)[0]||document.documentElement;let a=ot({context:r,includeContext:n,includeOnlyTabbable:o,strategy:i});return a=document.body.createShadowRoot&&u.is.BLINK?function(e,t,n){const o=new dt(t,n),i=o.extractElements(e);return i.length===e.length?n(e):o.sort(i)}(a,r,mt):mt(a,r),n&&(a=function(e,t){const n=e.indexOf(t);if(n>0)return e.splice(n,1).concat(e);return e}(a,r)),a}const ht={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,delete:46,backspace:8,_alias:{91:[92,93,224]}};for(let e=1;e<26;e++)ht["f"+e]=e+111;for(let e=0;e<10;e++){const t=e+48,n=e+96;ht[e]=t,ht["num-"+e]=n,ht._alias[t]=[n]}for(let e=0;e<26;e++){const t=e+65,n=String.fromCharCode(t).toLowerCase();ht[n]=t}const gt={alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},xt=Object.keys(gt).map((e=>gt[e]));function yt(e,t){return!xt.some((function(n){return"boolean"==typeof e[n]&&Boolean(t[n])!==e[n]}))}function wt(e){return e.split(/\s+/).map((function(e){const t=e.split("+"),n=function(e){const t=function(e){const t=!!e&&null;return{altKey:t,ctrlKey:t,metaKey:t,shiftKey:t}}(-1!==e.indexOf("*"));return e.forEach((function(e){if("*"===e)return;let n=!0;const o=e.slice(0,1);"?"===o?n=null:"!"===o&&(n=!1),!0!==n&&(e=e.slice(1));const i=gt[e];if(!i)throw new TypeError('Unknown modifier "'+e+'"');t[i]=n})),t}(t.slice(0,-1));return{keyCodes:function(e){const t=ht[e]||parseInt(e,10);if(!t||"number"!=typeof t||isNaN(t))throw new TypeError('Unknown key "'+e+'"');return[t].concat(ht._alias[t]||[])}(t.slice(-1)),modifiers:n,matchModifiers:yt.bind(null,n)}}))}function vt(e={}){const n={},o=t(e.context)[0]||document.documentElement;delete e.context;const i=t(e.filter);delete e.filter;const r=Object.keys(e);if(!r.length)throw new TypeError("when/key requires at least one option key");const a=function(e){e.keyCodes.forEach((function(t){n[t]||(n[t]=[]),n[t].push(e)}))};r.forEach((function(t){if("function"!=typeof e[t])throw new TypeError('when/key requires option["'+t+'"] to be a function');wt(t).map((function(n){return n.callback=e[t],n})).forEach(a)}));const s=function(e){if(e.defaultPrevented)return;if(i.length){const t=function({parent:e,element:t,includeSelf:n}={}){if(e)return function(t){return Boolean(n&&t===e||e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(t)return function(e){return Boolean(n&&t===e||e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw new TypeError("util/compare-position#getParentComparator required either options.parent or options.element")}({element:e.target,includeSelf:!0});if(i.some(t))return}const t=e.keyCode||e.which;n[t]&&n[t].forEach((function(t){t.matchModifiers(e)&&t.callback.call(o,e,l)}))};o.addEventListener("keydown",s,!1);const l=function(){o.removeEventListener("keydown",s,!1)};return{disengage:l}}function St(e,t){const n=Math.max(e.top,t.top),o=Math.max(e.left,t.left),i=Math.max(Math.min(e.right,t.right),o),r=Math.max(Math.min(e.bottom,t.bottom),n);return{top:n,right:i,bottom:r,left:o,width:i-o,height:r-n}}function Et(e){const t=e.getBoundingClientRect(),n=e.offsetWidth-e.clientWidth,o=e.offsetHeight-e.clientHeight,i={top:t.top,left:t.left,right:t.right-n,bottom:t.bottom-o,width:t.width-n,height:t.height-o,area:0};return i.area=i.width*i.height,i}function At(e){return!!function(e){const t=window.getComputedStyle(e,null),n="visible";return t.getPropertyValue("overflow-x")!==n&&t.getPropertyValue("overflow-y")!==n}(e)&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)}function Tt(e){const t=e.getBoundingClientRect(),n=function(){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{top:0,right:e,bottom:t,left:0,width:e,height:t}}();n.area=n.width*n.height;let i=n;const r=function(e){const t=o({context:e}).slice(1).filter(At);return t.length?t.reduce((function(e,t){const n=Et(t),o=St(n,e);return o.area=Math.min(n.area,e.area),o}),Et(t[0])):null}(e);if(r){if(!r.width||!r.height)return 0;i=St(r,n),i.area=r.area}const a=St(t,i);if(!a.width||!a.height)return 0;const s=t.width*t.height,l=Math.min(s,i.area),c=Math.round(a.width)*Math.round(a.height)/l,u=Math.round(1e4*c)/1e4;return Math.min(u,1)}function Ot({context:e,callback:t,area:o}={}){if("function"!=typeof t)throw new TypeError("when/visible-area requires options.callback to be a function");"number"!=typeof o&&(o=1);const i=n({label:"when/visible-area",context:e});let r,a=null;const s=function(){r&&cancelAnimationFrame(r)},l=function(){!Ce(i)||Tt(i)<o||!1===t(i)?a():s()};return a=function(){r=requestAnimationFrame(l)},a(),{disengage:s}}"undefined"!=typeof window&&function(){let e=0;const t=["ms","moz","webkit","o"];let n="",o="";for(let e=0,i=t.length;e<i;++e)n=window[t[e]+"RequestAnimationFrame"],o=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];"function"!=typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window[n]||function(t){const n=(new Date).getTime(),o=Math.max(0,16-(n-e)),i=window.setTimeout((function(){t(n+o)}),o);return e=n+o,i}),"function"!=typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame=window[o]||function(e){clearTimeout(e)})}();return()=>({lastActiveElement:null,trapFocus:null,openModal(n){if("function"!=typeof n)throw new TypeError("openModal requires options.callback to be a function");this.$refs.dialog&&(this.lastActiveElement=document.activeElement,n(),this.$nextTick((()=>{this.trapFocus=function({context:e}={}){return e||(e=document.documentElement),pt(),vt({"?alt+?shift+tab":function(t){t.preventDefault();const n=pt({context:e}),o=t.shiftKey,i=n[0],r=n[n.length-1],a=o?r:i;if(st(o?i:r))return void a.focus();let s;n.some((function(e,t){return!!st(e)&&(s=t,!0)}))?n[s+(o?-1:1)].focus():i.focus()}})}({context:this.$refs.dialog}),Ot({context:this.$refs.dialog,callback:function(n){let o=function({context:n,sequence:o,strategy:i,ignoreAutofocus:r,defaultToContext:a,includeOnlyTabbable:s}={}){let l=-1;o||(o=ot({context:n=t(n||document.body)[0],includeOnlyTabbable:s,strategy:i})),o.length&&!r&&(l=e(o,it)),o.length&&-1===l&&(l=e(o,rt));const c=qe.rules.except({onlyTabbable:s});return-1===l&&a&&n&&c(n)?n:o[l]||null}({context:n,defaultToContext:!0,strategy:"quick"});o&&o.focus()}})})))},closeModal(e){if("function"!=typeof e)throw new TypeError("openModal requires options.callback to be a function");e(),this.$nextTick((()=>{this.trapFocus.disengage(),this.lastActiveElement&&this.lastActiveElement.focus()}))}})}));
